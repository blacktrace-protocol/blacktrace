blacktrace/
├── Cargo.toml
├── README.md
├── LICENSE
│
├── src/
│   ├── main.rs                      # Entry point
│   │
│   ├── cli/                         # Layer 1: User Interface
│   │   ├── mod.rs
│   │   ├── commands.rs              # Command definitions
│   │   └── display.rs               # Output formatting
│   │
│   ├── p2p/                         # Layer 2A: P2P Network
│   │   ├── mod.rs
│   │   ├── network_manager.rs       # Component 2A
│   │   ├── message.rs               # Message types
│   │   └── config.rs                # Network config
│   │
│   ├── crypto/                      # Layer 2B: ZK Proofs
│   │   ├── mod.rs
│   │   ├── zk_proofs.rs             # Component 2B
│   │   ├── simple_commitment.rs     # Fallback
│   │   └── encryption.rs            # ECIES encryption
│   │
│   ├── negotiation/                 # Layer 2C: Negotiation
│   │   ├── mod.rs
│   │   ├── engine.rs                # Component 2C
│   │   ├── state.rs                 # State machine
│   │   └── types.rs                 # Message types
│   │
│   ├── settlement/                  # Layer 2D & 4: Settlement
│   │   ├── mod.rs
│   │   ├── tx_builder.rs            # Component 2D
│   │   ├── coordinator.rs           # Settlement orchestration
│   │   ├── monitor.rs               # Blockchain monitor
│   │   └── types.rs                 # Transaction types
│   │
│   ├── state/                       # Supporting: State Management
│   │   ├── mod.rs
│   │   └── manager.rs               # State persistence
│   │
│   ├── config/                      # Supporting: Configuration
│   │   ├── mod.rs
│   │   └── types.rs                 # Config types
│   │
│   └── types.rs                     # Shared types
│
├── contracts/                       # Layer 3: Ztarknet Contracts
│   ├── zk_attester.cairo           # Component 3A
│   ├── order_registry.cairo        # Component 3B
│   ├── negotiation_registry.cairo  # Component 3C
│   └── simple_attester.cairo       # Simplified version
│
├── tests/
│   ├── integration_tests.rs
│   └── unit_tests/
│
└── docs/
    ├── ARCHITECTURE.md
    ├── API.md
    └── DEPLOYMENT.md
